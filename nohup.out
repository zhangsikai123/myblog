Creating network "myblog_default" with the default driver
Creating myblog_nginx_1   ... 
Creating myblog_certbot_1 ... 
Creating myblog_mongo_1   ... 
Creating myblog_flask_1   ... 
[2A[2KCreating myblog_certbot_1 ... [32mdone[0m[2B[4A[2KCreating myblog_flask_1   ... [32mdone[0m[4B[1A[2KCreating myblog_mongo_1   ... [32mdone[0m[1B[3A[2KCreating myblog_nginx_1   ... [32mdone[0m[3BAttaching to myblog_certbot_1, myblog_flask_1, myblog_mongo_1, myblog_nginx_1
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:06 +0000] "GET / HTTP/1.1" 502 559 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[33mflask_1    |[0m [2019-11-23 02:43:06 +0000] [1] [INFO] Starting gunicorn 19.9.0
[33mflask_1    |[0m [2019-11-23 02:43:06 +0000] [1] [INFO] Listening at: http://0.0.0.0:5000 (1)
[33mflask_1    |[0m [2019-11-23 02:43:06 +0000] [1] [INFO] Using worker: sync
[33mflask_1    |[0m [2019-11-23 02:43:06 +0000] [9] [INFO] Booting worker with pid: 9
[32mmongo_1    |[0m 2019-11-23T02:43:06.344+0000 I  CONTROL  [main] Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] MongoDB starting : pid=1 port=27017 dbpath=/data/db 64-bit host=897dae83d37e
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] db version v4.2.1
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] git version: edf6d45851c0b9ee15548f0f847df141764a317e
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] OpenSSL version: OpenSSL 1.1.1  11 Sep 2018
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] allocator: tcmalloc
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] modules: none
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] build environment:
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten]     distmod: ubuntu1804
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten]     distarch: x86_64
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten]     target_arch: x86_64
[32mmongo_1    |[0m 2019-11-23T02:43:06.367+0000 I  CONTROL  [initandlisten] options: { net: { bindIp: "*" } }
[32mmongo_1    |[0m 2019-11-23T02:43:06.368+0000 I  STORAGE  [initandlisten] Detected data files in /data/db created by the 'wiredTiger' storage engine, so setting the active storage engine to 'wiredTiger'.
[32mmongo_1    |[0m 2019-11-23T02:43:06.368+0000 I  STORAGE  [initandlisten] 
[32mmongo_1    |[0m 2019-11-23T02:43:06.368+0000 I  STORAGE  [initandlisten] ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine
[32mmongo_1    |[0m 2019-11-23T02:43:06.368+0000 I  STORAGE  [initandlisten] **          See http://dochub.mongodb.org/core/prodnotes-filesystem
[32mmongo_1    |[0m 2019-11-23T02:43:06.368+0000 I  STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=256M,cache_overflow=(file_max=0M),session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress],
[36mcertbot_1  |[0m 
[36mcertbot_1  |[0m - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[36mcertbot_1  |[0m Processing /etc/letsencrypt/renewal/whereeat.xyz.conf
[36mcertbot_1  |[0m - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[36mcertbot_1  |[0m Saving debug log to /var/log/letsencrypt/letsencrypt.log
[36mcertbot_1  |[0m Cert not yet due for renewal
[36mcertbot_1  |[0m 
[36mcertbot_1  |[0m - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[36mcertbot_1  |[0m 
[36mcertbot_1  |[0m The following certs are not due for renewal yet:
[36mcertbot_1  |[0m   /etc/letsencrypt/live/whereeat.xyz/fullchain.pem expires on 2020-02-10 (skipped)
[36mcertbot_1  |[0m No renewals were attempted.
[36mcertbot_1  |[0m - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[32mmongo_1    |[0m 2019-11-23T02:43:07.785+0000 I  STORAGE  [initandlisten] WiredTiger message [1574476987:785533][1:0x7faad4123b00], txn-recover: Recovering log 58 through 59
[32mmongo_1    |[0m 2019-11-23T02:43:07.849+0000 I  STORAGE  [initandlisten] WiredTiger message [1574476987:849715][1:0x7faad4123b00], txn-recover: Recovering log 59 through 59
[32mmongo_1    |[0m 2019-11-23T02:43:07.993+0000 I  STORAGE  [initandlisten] WiredTiger message [1574476987:992451][1:0x7faad4123b00], txn-recover: Main recovery loop: starting at 58/6016 to 59/256
[32mmongo_1    |[0m 2019-11-23T02:43:08.115+0000 I  STORAGE  [initandlisten] WiredTiger message [1574476988:115098][1:0x7faad4123b00], txn-recover: Recovering log 58 through 59
[32mmongo_1    |[0m 2019-11-23T02:43:08.190+0000 I  STORAGE  [initandlisten] WiredTiger message [1574476988:190718][1:0x7faad4123b00], txn-recover: Recovering log 59 through 59
[32mmongo_1    |[0m 2019-11-23T02:43:08.249+0000 I  STORAGE  [initandlisten] WiredTiger message [1574476988:249500][1:0x7faad4123b00], txn-recover: Set global recovery timestamp: (0,0)
[32mmongo_1    |[0m 2019-11-23T02:43:08.302+0000 I  RECOVERY [initandlisten] WiredTiger recoveryTimestamp. Ts: Timestamp(0, 0)
[32mmongo_1    |[0m 2019-11-23T02:43:08.389+0000 I  STORAGE  [initandlisten] Timestamp monitor starting
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] 
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] 
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] 
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] **        We suggest setting it to 'never'
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] 
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] **        We suggest setting it to 'never'
[32mmongo_1    |[0m 2019-11-23T02:43:08.392+0000 I  CONTROL  [initandlisten] 
[32mmongo_1    |[0m 2019-11-23T02:43:08.403+0000 I  SHARDING [initandlisten] Marking collection local.system.replset as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:08.407+0000 I  STORAGE  [initandlisten] Flow Control is enabled on this deployment.
[32mmongo_1    |[0m 2019-11-23T02:43:08.408+0000 I  SHARDING [initandlisten] Marking collection admin.system.roles as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:08.408+0000 I  SHARDING [initandlisten] Marking collection admin.system.version as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:08.410+0000 I  SHARDING [initandlisten] Marking collection local.startup_log as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:08.410+0000 I  FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory '/data/db/diagnostic.data'
[32mmongo_1    |[0m 2019-11-23T02:43:08.413+0000 I  SHARDING [LogicalSessionCacheRefresh] Marking collection config.system.sessions as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:08.413+0000 I  SHARDING [LogicalSessionCacheReap] Marking collection config.transactions as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:08.414+0000 I  NETWORK  [initandlisten] Listening on /tmp/mongodb-27017.sock
[32mmongo_1    |[0m 2019-11-23T02:43:08.414+0000 I  NETWORK  [initandlisten] Listening on 0.0.0.0
[32mmongo_1    |[0m 2019-11-23T02:43:08.414+0000 I  NETWORK  [initandlisten] waiting for connections on port 27017
[32mmongo_1    |[0m 2019-11-23T02:43:09.002+0000 I  SHARDING [ftdc] Marking collection local.oplog.rs as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:17.131+0000 I  NETWORK  [listener] connection accepted from 172.19.0.2:47222 #1 (1 connection now open)
[32mmongo_1    |[0m 2019-11-23T02:43:45.636+0000 I  NETWORK  [listener] connection accepted from 172.19.0.2:47232 #2 (2 connections now open)
[32mmongo_1    |[0m 2019-11-23T02:43:45.637+0000 I  SHARDING [conn2] Marking collection blog.settings as collection version: <unsharded>
[32mmongo_1    |[0m 2019-11-23T02:43:45.640+0000 I  SHARDING [conn2] Marking collection blog.posts as collection version: <unsharded>
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET / HTTP/1.1" 200 5301 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET /static/css/bootstrap.min.css HTTP/1.1" 200 102978 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET /static/css/main.css HTTP/1.1" 304 0 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET /static/bower_components/platform/platform.js HTTP/1.1" 200 158488 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET /static/css/mdmagick.css HTTP/1.1" 304 0 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET /static/bower_components/polymer/polymer.js HTTP/1.1" 200 66430 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET /static/bower_components/github-gist/github-gist.html HTTP/1.1" 304 0 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:45 +0000] "GET /static/js/main.js HTTP/1.1" 304 0 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:53 +0000] "GET / HTTP/1.1" 200 5301 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:56 +0000] "GET / HTTP/1.1" 200 5301 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[33mflask_1    |[0m [2019-11-23 02:43:57,598] ERROR in app: Exception on /post/ZLCN0AUDCQE6 [GET]
[33mflask_1    |[0m Traceback (most recent call last):
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 2292, in wsgi_app
[33mflask_1    |[0m     response = self.full_dispatch_request()
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1815, in full_dispatch_request
[33mflask_1    |[0m     rv = self.handle_user_exception(e)
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1718, in handle_user_exception
[33mflask_1    |[0m     reraise(exc_type, exc_value, tb)
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1813, in full_dispatch_request
[33mflask_1    |[0m     rv = self.dispatch_request()
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1799, in dispatch_request
[33mflask_1    |[0m     return self.view_functions[rule.endpoint](**req.view_args)
[33mflask_1    |[0m   File "/app/web.py", line 50, in single_post
[33mflask_1    |[0m     post = postClass.get_post_by_permalink(permalink)
[33mflask_1    |[0m   File "/app/post.py", line 11, in f
[33mflask_1    |[0m     response = _filter(response)
[33mflask_1    |[0m NameError: global name '_filter' is not defined
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:43:57 +0000] "GET /post/ZLCN0AUDCQE6 HTTP/1.1" 500 290 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
[33mflask_1    |[0m [2019-11-23 02:44:01,429] ERROR in app: Exception on /post/HDWRFRVLRHOI [GET]
[33mflask_1    |[0m Traceback (most recent call last):
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 2292, in wsgi_app
[33mflask_1    |[0m     response = self.full_dispatch_request()
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1815, in full_dispatch_request
[33mflask_1    |[0m     rv = self.handle_user_exception(e)
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1718, in handle_user_exception
[33mflask_1    |[0m     reraise(exc_type, exc_value, tb)
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1813, in full_dispatch_request
[33mflask_1    |[0m     rv = self.dispatch_request()
[33mflask_1    |[0m   File "/usr/local/lib/python2.7/site-packages/flask/app.py", line 1799, in dispatch_request
[33mflask_1    |[0m     return self.view_functions[rule.endpoint](**req.view_args)
[33mflask_1    |[0m   File "/app/web.py", line 50, in single_post
[33mflask_1    |[0m     post = postClass.get_post_by_permalink(permalink)
[33mflask_1    |[0m   File "/app/post.py", line 11, in f
[33mflask_1    |[0m     response = _filter(response)
[33mflask_1    |[0m NameError: global name '_filter' is not defined
[35mnginx_1    |[0m 114.94.111.53 - - [23/Nov/2019:02:44:01 +0000] "GET /post/HDWRFRVLRHOI HTTP/1.1" 500 290 "https://whereeat.xyz/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36"
